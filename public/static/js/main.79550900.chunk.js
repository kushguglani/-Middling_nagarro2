(this["webpackJsonpmedium-clone-react-nagarro"]=this["webpackJsonpmedium-clone-react-nagarro"]||[]).push([[0],{247:function(e,t,a){e.exports=a(442)},256:function(e,t,a){},439:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(50),c=a.n(o),i=a(24),l=a(215),s=(a(256),a(26)),u=a(21),m=a(42),d=a(43),p=a(45),h=a(44),f=a(18),g=a(27),E=a.n(g),b="https://conduit.productionready.io/api/",v=function(e,t){return E.a.get("".concat(b).concat("articles","?offset=").concat(e),{headers:t})},y=function(e,t,a,n){return E.a.get("".concat(b).concat("articles","?").concat(e,"=").concat(t,"&offset=").concat(a),{headers:n})},O=function(e,t,a){return E()({method:a,url:"".concat(b).concat("articles","/").concat(t,"/favorite"),headers:e,data:""})},k="ADD_USER",j="USER_ERROR",C="USER_UPDATE_ERROR",T="CHANGE_HEADER",w="UPDATE_USER_MESSAGE",A="LOG_OUT",S="FETCH_TAGS",F="CHANGE_ACTIVE_TAB",D="FETCH_FEEDS",L="SELECTED_TAG",U="START_LOADER",P="REDIRECT_TO",N="API_ERROR",I="EDIT_FEEDS",R="SEARCH_FEEDS",z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){a(M("globalFeed")),a(V("feedLoader")),v(e,t).then((function(e){a({type:D,payload:e.data.articles,articlesCount:e.data.articlesCount})})).catch((function(e){}))}},H=function(){return function(e){E.a.get("".concat(b).concat("tags")).then((function(t){e({type:S,payload:t.data.tags})})).catch((function(e){}))}},M=function(e){return{type:F,payload:e}},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(r){"tag"===e&&r(_(t)),r(V("feedLoader")),r(M(e)),y(e,t,a,n).then((function(e){r({type:D,payload:e.data.articles,articlesCount:e.data.articlesCount})})).catch((function(e){return e}))}},_=function(e){return{type:L,payload:e}},V=function(e){return{type:U,payload:e}},G=function(e,t,a){return function(n){(function(e,t){return E.a.post("".concat(b).concat("articles"),t,{headers:e})})(t,e).then((function(e){n(x("author",a)),n({type:P,payload:"/"})})).catch((function(e){var t;n((t={error:e.response.data},{type:N,payload:t}))}))}},B=function(e,t,a){return function(n){O(e,t,a).then((function(e){n({type:I,payload:e.data.article})})).catch((function(e){var t=e.response,a=[];for(var n in t)a.push("".concat(n," ").concat(t[n]))}))}},W=function(e,t){return function(e,t){return E.a.get("".concat(b).concat(e),{headers:t})}(e,t)},q=function(e){return function(e){return E.a.get("".concat(b).concat(e))}(e)},J=function(e,t,a){return function(e,t,a){return E.a.post("".concat(b).concat(e),t,{headers:a})}(e,t,a)},K=function(e,t,a){return function(e,t,a){return E.a.delete("".concat(b).concat(e,"/").concat(t),{headers:a})}(e,t,a)},Y=function(e){return{type:R,payload:e}},$=function(e,t,a){return O(e,t,a)},Q=function(e,t,a){return function(e,t,a){return E()({method:a,url:"".concat(b).concat("profiles","/").concat(t).concat("/follow"),headers:e,data:""})}(e,t,a)},X=function(e,t){return function(e,t){return E.a.get("".concat(b).concat("profiles","/").concat(t),{headers:e})}(e,t)},Z=a(467),ee=a(468),te=a(465),ae=a(62),ne=a(459),re=a(90),oe=function(e){var t=new Date(e),a=new Date,n=Math.abs(a-t),r=Math.floor(n/864e5),o=Math.ceil(n/60/60/60),c=Math.ceil(n/60/60/60/60);return r>1?"".concat(r," days ago"):r>0?"".concat(r," day ago"):o<60?"".concat(o," minutes ago"):c<24?"".concat(c," hours ago"):void 0},ce="No articles are here... yet.",ie="Read more ...",le="Likes",se="Your Feed",ue="Global Feed",me="Favorited Feeds",de="Article",pe="by",he="Comments",fe="Sign in",ge="Sign up",Ee="to add comments on this article",be=function(e){var t,a=e.feeds,n=e.userClicked,o=e.favoriteArticle,c=ce,i=ie,l=le;return t=a.length>0?a.map((function(e){return r.a.createElement(ne.a.Event,{key:e.slug,className:"hr-line"},r.a.createElement(ne.a.Label,{onClick:function(){return n("user/".concat(e.author.username))},image:e.author.image,alt:e.author.username,className:"pointer-cursor"}),r.a.createElement(ne.a.Content,null,r.a.createElement(ne.a.Summary,null,r.a.createElement("span",{className:"pointer-cursor",onClick:function(){return n("user/".concat(e.author.username))}},e.author.username),r.a.createElement(ne.a.Date,null,oe(e.createdAt)),r.a.createElement(ne.a.Meta,{className:"feed-like"},r.a.createElement(ne.a.Like,{onClick:function(){return o(e.slug,e.favorited)}},r.a.createElement(ae.a,{name:"like",color:e.favorited?"red":"grey"})," ",e.favoritesCount," ",l))),r.a.createElement("h3",{className:"feedTitle"},e.title),r.a.createElement(ne.a.Extra,{text:!0,className:"desc-text"},e.description),e.tagList.length>0&&e.tagList.map((function(e,t){return r.a.createElement(re.a,{key:t,className:"tag-cursor"},e)})),e.tagList.length>0&&r.a.createElement("br",null),r.a.createElement(s.b,{to:"articles/".concat(e.slug)},i)))})):r.a.createElement("p",null,c),r.a.createElement(ne.a,null,t)},ve=a(464),ye=a(461),Oe=a(452),ke=function(e){return r.a.createElement("div",null,r.a.createElement(ve.a,{className:"ui-segment"},r.a.createElement(ye.a,{active:!0,inverted:!0},r.a.createElement(Oe.a,{content:e.text,inverted:!0,indeterminate:!0}))))};var je=function(e){var t=e.feedLoader,a=e.feeds,n=e.userDetails,o=e.activeIndex,c=e.userClicked,i=e.globalFeed,l=e.selectedTag,s=e.fetchFeeds,u=e.fetchConditionalFeeds,m=e.isUserLogin,d=e.favoriteArticle,p={},h="";n.token&&(p={Authorization:"Token "+n.token}),h=i&&i.username?i.username:n.username;var f=function(e,t){var a=t.name;u(a,h,0,p)},g=se,E=ue,b=me;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{pointing:!0},r.a.createElement(te.a.Item,{className:m||i?"":"displayNone",name:"author",active:"author"===o,onClick:f},r.a.createElement(ae.a,{name:"user"}),g),r.a.createElement(te.a.Item,{className:i?"displayNone":"",name:"globalFeed",active:"globalFeed"===o,onClick:function(){return s(0,p)}},r.a.createElement(ae.a,{name:"users"}),E),r.a.createElement(te.a.Item,{name:"favorited",className:m||i?"":"displayNone",active:"favorited"===o,onClick:f},r.a.createElement(ae.a,{name:"heart"}),b),r.a.createElement(te.a.Item,{className:""===l?"displayNone":"",name:"tag",active:"tag"===o,onClick:f},r.a.createElement(ae.a,{name:"hashtag"}),l)),t?r.a.createElement(ke,{text:"Fetching Feeds"}):r.a.createElement(be,{userClicked:c,feeds:a,favoriteArticle:d}))},Ce=a(466),Te=a(453),we=function(e){var t;return e.tags&&(t=e.tags.map((function(t,a){return r.a.createElement(re.a,{key:a,className:"tag-cursor",onClick:function(){return e.fetchConditionalFeeds("tag",t)}},t)}))),r.a.createElement(ve.a,null,r.a.createElement(Ce.a,{as:"h2",floated:"right"},"Popular Tags"),r.a.createElement(Te.a,{clearing:!0}),r.a.createElement(re.a.Group,{tag:!0},e.tagLoader?r.a.createElement(ke,{text:"Fetching Tags"}):t))},Ae=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeItem:"home",activePage:1},e.callOnLoad=function(){var t={};e.props.userDetails.token&&(t={Authorization:"Token "+e.props.userDetails.token}),e.props.dataShowHidden?e.fetchConditionalFeedsByTag("author",e.props.dataShowHidden.username):e.props.fetchFeeds(20*(e.state.activePage-1),t),e.props.fetchTags()},e.handlePaginationChange=function(t,a){var n=a.activePage,r={};e.props.userDetails.token&&(r={Authorization:"Token "+e.props.userDetails.token});var o=e.props,c=o.activeTab,i=o.selectedTag,l=o.userDetails;e.setState({activePage:n},(function(){var t=20*(e.state.activePage-1),a="";switch(a=e.props.dataShowHidden&&e.props.dataShowHidden.username?e.props.dataShowHidden.username:l.username,c){case"globalFeed":e.props.fetchFeeds(t,r);break;case"tag":e.props.fetchConditionalFeeds("tag",i,t,r);break;case"author":e.props.fetchConditionalFeeds("author",a,t,r);break;case"favorited":e.props.fetchConditionalFeeds("favorited",a,t,r)}}))},e.fetchConditionalFeedsByTag=function(t,a){var n={};e.props.userDetails.token&&(n={Authorization:"Token "+e.props.userDetails.token}),e.setState({activePage:1}),e.props.fetchConditionalFeeds(t,a,n)},e.favoriteArticleClicked=function(t,a){if(e.props.userDetails.token){var n={Authorization:"Token "+e.props.userDetails.token},r=!0===a?"DELETE":"POST";e.props.favoriteArticle(n,t,r)}else e.props.history.push("/login")},e.userClicked=function(t){e.props.history.push("/"+t)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.callOnLoad(),this.setState({activePage:1})}},{key:"componentDidUpdate",value:function(){this.props.loginPage&&this.props.history.push("/login")}},{key:"render",value:function(){var e=this.props,t=e.tags,a=e.userFeeds,n=e.panes,o=e.selectedTag,c=e.userDetails,i=e.isUserLogin,l=e.feedLoader,s=e.fetchConditionalFeeds,u=e.fetchFeeds,m=e.activeTab,d=e.tagLoader,p=e.articlesCount,h=e.searchValue,f=e.dataShowHidden;return r.a.createElement(Z.a,{className:"feedContainerGrid"},r.a.createElement(Z.a.Column,{width:11},r.a.createElement(je,{globalFeed:f,activeIndex:m,feeds:a,selectedTag:o,fetchFeeds:u,panes:n,feedLoader:l,fetchConditionalFeeds:s,userDetails:c,isUserLogin:i,userClicked:this.userClicked,favoriteArticle:this.favoriteArticleClicked}),""===h&&p>20?r.a.createElement(ee.a,{activePage:this.state.activePage,boundaryRange:"2",onPageChange:this.handlePaginationChange,size:"mini",siblingRange:"1",totalPages:Math.ceil(p/20)}):"",r.a.createElement("p",{className:"bottom-page-margin"})),this.props.dataShowHidden?"":r.a.createElement(Z.a.Column,{width:5},r.a.createElement(we,{tags:t,fetchConditionalFeeds:this.fetchConditionalFeedsByTag,tagLoader:d})))}}]),a}(n.Component);var Se=Object(u.g)(Object(i.b)((function(e){return{userDetails:e.user.user,isUserLogin:e.user.isUserLogin,loginPage:e.user.loginPage,userFeeds:e.userFeeds.feeds,tags:e.userFeeds.tags,feedLoader:e.userFeeds.feedLoader,tagLoader:e.userFeeds.tagLoader,activeTab:e.userFeeds.activeTab,selectedTag:e.userFeeds.selectedTag,articlesCount:e.userFeeds.articlesCount,searchValue:e.userFeeds.searchValue}}),(function(e){return Object(f.b)({fetchFeeds:z,fetchTags:H,fetchConditionalFeeds:x,createArticle:G,favoriteArticle:B},e)}))(Ae)),Fe=a(462);function De(e){return{type:k,payload:e}}function Le(e){return{type:j,payload:e}}var Ue=function(e){var t={user:e};return function(e){(function(e){return E.a.post("".concat(b).concat("users/login"),e)})(t).then((function(t){e(De(t.data.user))})).catch((function(t){var a=t.response.data.errors,n=[];for(var r in a)n.push("".concat(r," ").concat(a[r]));e(Le(n))}))}},Pe=function(e){var t={user:e};return function(e){(function(e){return E.a.post("".concat(b).concat("users"),e)})(t).then((function(t){e(De(t.data.user))})).catch((function(t){var a=t.response.data.errors,n=[];for(var r in a)n.push("".concat(r," ").concat(a[r]));e(Le(n))}))}},Ne=function(e){return{type:T,payload:e}},Ie=function(e,t){return function(a){var n,r;(n=e,r=t,E.a.put("".concat(b).concat("user"),r,{headers:n})).then((function(e){a({type:w,payload:e.data})})).catch((function(e){var t=e.response.data.errors,n=[];for(var r in t)n.push("".concat(r," ").concat(t[r]));a(function(e){return{type:C,payload:e}}(n))}))}},Re=function(e){return{type:A,payload:e}},ze=a(29),He=a(10),Me=a(46),xe=a(458),_e=a(455),Ve=a(454),Ge=a(443),Be="Signin",We="Signup",qe="Or",Je="Middling",Ke="(Diverse array of stories, ideas, and perspectives)",Ye="New Article",$e="Setting",Qe="Logout",Xe="Signin",Ze=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(Me.a)(t,2),o=a[0],c=a[1],i=function(e){var t=e.target,a=t.name,n=t.value;c(Object(He.a)(Object(He.a)({},o),{},Object(ze.a)({},a,n)))},l=e.userLogin;return r.a.createElement(xe.a,null,r.a.createElement(xe.a.Field,null,r.a.createElement(_e.a,{type:"email",icon:"at",iconPosition:"left",name:"email",onChange:i,placeholder:"Email"})),r.a.createElement(xe.a.Field,null,r.a.createElement(_e.a,{type:"password",icon:"lock",iconPosition:"left",name:"password",onChange:i,placeholder:"Password"})),r.a.createElement(xe.a.Field,null,r.a.createElement(Ve.a,{label:"Remember Me"})),r.a.createElement(Ge.a,{onClick:function(){return l(o)},type:"submit"},Be))},et=function(e){var t=Object(n.useState)({userName:"",email:"",password:""}),a=Object(Me.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!0),l=Object(Me.a)(i,2),s=l[0],u=l[1],m=function(e){var t=e.target,a=t.name,n=t.value;c(Object(He.a)(Object(He.a)({},o),{},Object(ze.a)({},a,n)))};return r.a.createElement(xe.a,null,r.a.createElement(xe.a.Field,null,r.a.createElement(_e.a,{icon:"user",iconPosition:"left",name:"username",onChange:m,placeholder:"User Name"})),r.a.createElement(xe.a.Field,null,r.a.createElement(_e.a,{type:"email",icon:"at",iconPosition:"left",name:"email",onChange:m,placeholder:"Email"})),r.a.createElement(xe.a.Field,null,r.a.createElement(_e.a,{type:"password",icon:"lock",iconPosition:"left",name:"password",onChange:m,placeholder:"Password"})),r.a.createElement(xe.a.Field,null,r.a.createElement(Ve.a,{onChange:function(e){u(!s)},label:"I agree to the Terms and Conditions"})),r.a.createElement(Ge.a,{onClick:function(){return e.userSignup(o)},type:"submit",disabled:s},We))},tt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.isUserLogin&&this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.props.isUserLogin&&this.props.history.push("/")}},{key:"render",value:function(){var e=Be,t=We,a=qe,n=this.props,o=n.userLogin,c=n.userSignup,i=n.error;n.isUserLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{placeholder:!0},r.a.createElement(Z.a,{columns:2,stackable:!0,textAlign:"center"},r.a.createElement(Te.a,{vertical:!0},a),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Column,null,r.a.createElement(Ce.a,null,e),r.a.createElement(Ze,{userLogin:function(e){return o(e)}})),r.a.createElement(Z.a.Column,null,r.a.createElement(Ce.a,null,t),r.a.createElement(et,{userSignup:function(e){return c(e)}}))))),i.length>0&&r.a.createElement(Fe.a,{visible:!0,error:!0,header:"There was some errors with your submission",list:i}))}}]),a}(n.Component);var at=Object(u.g)(Object(i.b)((function(e){return{error:e.user.error,isUserLogin:e.user.isUserLogin}}),(function(e){return Object(f.b)({userLogin:Ue,userSignup:Pe},e)}))(tt)),nt=a(116),rt=a(456);var ot=Object(i.b)((function(e){return{jwt:e.user.user.token,username:e.user.user.username,redirectTo:e.userFeeds.redirectTo}}),(function(e){return Object(f.b)({createArticle:G},e)}))((function(e){var t=Object(n.useState)([]),a=Object(Me.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)({title:"",description:"",body:"",tagList:o}),l=Object(Me.a)(i,2),s=l[0],m=l[1],d=e.createArticle,p=e.jwt;Object(n.useEffect)((function(){m(Object(He.a)(Object(He.a)({},s),{},{tagList:o}))}),[o.join("")]);var h=function(e,t){var a=t.name,n=e.target.value;m(Object(He.a)(Object(He.a)({},s),{},Object(ze.a)({},a,n)))};return""!=e.redirectTo?r.a.createElement(u.a,{to:e.redirectTo}):r.a.createElement("div",{className:"createArticle"},r.a.createElement(xe.a,null,r.a.createElement(_e.a,{fluid:!0,icon:"file",iconPosition:"left",name:"title",onChange:h,placeholder:"Article Titile",className:"createArticleHeight"}),r.a.createElement(_e.a,{fluid:!0,icon:"info",name:"description",onChange:h,iconPosition:"left",placeholder:"What's this article about?"}),r.a.createElement(rt.a,{placeholder:"Write your article (in markdown)",rows:"6",name:"body",onChange:h}),r.a.createElement(_e.a,{fluid:!0,icon:"tags",iconPosition:"left",label:{tag:!0,content:"Add Tag"},labelPosition:"right",placeholder:"Enter tags",onKeyDown:function(e){var t=e.target.value;"Enter"===e.key&&(""===t?console.log("tag can't be empty"):-1!==o.indexOf(t)?console.log("tag already addes"):(c([].concat(Object(nt.a)(o),[t])),e.target.value=""))}}),r.a.createElement(re.a.Group,{className:"tag-label-group",tag:!0},o.length>0&&o.map((function(e,t){return r.a.createElement(re.a,{key:t},e,r.a.createElement(ae.a,{name:"delete"}))})))),r.a.createElement(Ge.a,{content:"Publish Article",icon:"right arrow",labelPosition:"right",onClick:function(){d({article:s},{Authorization:"Token "+p},e.username)}}))}));var ct=Object(u.g)(Object(i.b)((function(e){return{jwt:e.user.user.token,user:e.user.user,redirectTo:e.userFeeds.redirectTo,updateUserMsz:e.user.updateUserMsz,isUserLogin:e.user.isUserLogin}}),(function(e){return Object(f.b)({updateUserSettings:Ie},e)}))((function(e){var t=e.user,a=t.bio,o=t.email,c=t.image,i=t.username,l=Object(n.useState)({bio:a,email:o,image:c,username:i,password:""}),s=Object(Me.a)(l,2),m=s[0],d=s[1];e.isUserLogin||e.history.push("/"),null===m.bio&&d(Object(He.a)(Object(He.a)({},m),{},{bio:""})),null===m.image&&d(Object(He.a)(Object(He.a)({},m),{},{image:""}));var p=function(e,t){var a=t.name,n=e.target.value;d(Object(He.a)(Object(He.a)({},m),{},Object(ze.a)({},a,n)))};if(""!=e.redirectTo)return r.a.createElement(u.a,{to:e.redirectTo});var h="";return e.updateUserMsz.length&&(h="User Updated"!==e.updateUserMsz[0]?r.a.createElement(Fe.a,{visible:!0,error:!0,header:"There was some errors with your submission",list:e.updateUserMsz}):r.a.createElement(Fe.a,{visible:!0,positive:!0,header:"User Updated Successfully"})),r.a.createElement("div",{className:"userSettings createArticle"},r.a.createElement(xe.a,null,r.a.createElement(_e.a,{value:m.image,fluid:!0,icon:"attach",iconPosition:"left",name:"image",onChange:p,placeholder:"URL of profile picture",className:"createArticleHeight"}),r.a.createElement(_e.a,{fluid:!0,icon:"user",name:"username",onChange:p,iconPosition:"left",placeholder:"user ID",value:m.username}),r.a.createElement(rt.a,{placeholder:"Shot bio about you",rows:"6",value:m.bio,name:"bio",onChange:p}),r.a.createElement(_e.a,{value:m.email,fluid:!0,icon:"at",iconPosition:"left",name:"email",onChange:p,placeholder:"Eamil",className:"createArticleHeight"}),r.a.createElement(_e.a,{type:"password",fluid:!0,icon:"lock",iconPosition:"left",name:"password",onChange:p,placeholder:"Password",className:"createArticleHeight"})),r.a.createElement(Ge.a,{content:"Update Settings",icon:"right arrow",labelPosition:"right",onClick:function(){var t=Object(He.a)({},m);""===t.password&&delete t.password,e.updateUserSettings({Authorization:"Token "+e.jwt},t)}}),h)}))),it=a(235),lt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e.followUser=function(){var t={};if(e.props.userDetails.token){t={Authorization:"Token "+e.props.userDetails.token};var a=e.state.user.username,n=e.state.user.following?"DELETE":"POST";Q(t,a,n).then((function(t){e.setState({user:t.data.profile})})).catch((function(e){var t=e.response,a=[];for(var n in t)a.push("".concat(n," ").concat(t[n]))}))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={};this.props.userDetails.token&&(t={Authorization:"Token "+this.props.userDetails.token});var a=this.props.location.pathname.replace("/user/","");X(t,a).then((function(t){e.setState({user:t.data.profile})})).catch((function(t){e.props.history.push("/")}))}},{key:"componentDidUpdate",value:function(){var e=this,t={};this.props.userDetails.token&&(t={Authorization:"Token "+this.props.userDetails.token});var a=this.props.location.pathname.replace("/user/","");X(t,a).then((function(t){e.state.user.username!==t.data.profile.username&&e.setState({user:t.data.profile})})).catch((function(t){e.props.history.push("/")}))}},{key:"render",value:function(){var e=this.state.user,t={popularTags:!1,globalFeed:!1,username:this.props.location.pathname.replace("/user/","")};return r.a.createElement("div",null,r.a.createElement(Ce.a,{as:"h2",icon:!0,textAlign:"center",block:!0},r.a.createElement(it.a,{circular:!0,centered:!0,size:"large",src:e.image}),r.a.createElement(Ce.a.Content,null,e.username),r.a.createElement(Ce.a.Subheader,null,e.bio)),r.a.createElement(Ce.a.Subheader,{align:"right"},r.a.createElement(Ge.a,{align:"right",as:"div",labelPosition:"right",onClick:this.followUser},r.a.createElement(Ge.a,{basic:!0,color:e.following?"green":"blue"},r.a.createElement(ae.a,{name:"add user"}),e.following?"UnFollow":"Follow"),r.a.createElement(re.a,{as:"a",basic:!0,color:e.following?"green":"blue",pointing:"left"},e.username))),r.a.createElement(Se,{dataShowHidden:t}))}}]),a}(n.Component),st=Object(u.g)(Object(i.b)((function(e){return{userDetails:e.user.user}}))(lt)),ut=a(457),mt=a(460);function dt(e){var t=e.data,a=t.author,n=t.body,o=t.createdAt,c=t.id;return r.a.createElement(mt.a,null,r.a.createElement(mt.a.Avatar,{src:a.image}),r.a.createElement(mt.a.Content,null,r.a.createElement(mt.a.Author,{as:"a"},a.username),r.a.createElement(mt.a.Metadata,null,r.a.createElement("div",null,oe(o))),a.username===e.loginUsername?r.a.createElement(mt.a.Metadata,null,r.a.createElement(ae.a,{name:"delete",size:"big",onClick:function(){return e.deleteCommentToArticle(c)}})):"",r.a.createElement(mt.a.Text,null,n),r.a.createElement(mt.a.Actions,null)))}var pt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={article:{},comments:[],user:{},body:"",disabled:!0},e.handleInputChnage=function(t){e.setState(Object(ze.a)({},t.target.name,t.target.value),(function(){""!==e.state.body?e.setState({disabled:!1}):e.setState({disabled:!0})}))},e.addComments=function(){var t=e.state,a=t.body,n=t.comments,r=(t.user,{});e.props.userDetails.token&&(r={Authorization:"Token "+e.props.userDetails.token}),J(e.props.location.pathname+"/comments",{comment:{body:a}},r).then((function(t){e.setState({comments:[t.data.comment].concat(Object(nt.a)(n)),body:"",disabled:!0})})).catch((function(e){}))},e.deleteComment=function(t){var a={};e.props.userDetails.token&&(a={Authorization:"Token "+e.props.userDetails.token}),K(e.props.location.pathname.substring(1)+"/comments",t,a).then((function(t){q(e.props.location.pathname+"/comments").then((function(t){e.setState({comments:t.data.comments})}))}))},e.followUser=function(){var t={};if(e.props.userDetails.token){t={Authorization:"Token "+e.props.userDetails.token};var a=e.state.article.author.username,n=e.state.user.following?"DELETE":"POST";Q(t,a,n).then((function(t){e.setState({user:t.data.profile})})).catch((function(e){var t=e.response,a=[];for(var n in t)a.push("".concat(n," ").concat(t[n]));return a}))}},e.likeArticle=function(){var t={};if(e.props.userDetails.token){t={Authorization:"Token "+e.props.userDetails.token};var a=e.state.article.slug,n=e.state.article.author.following?"DELETE":"POST";$(t,a,n).then((function(t){e.setState({article:t.data.article})})).catch((function(e){var t=e.response,a=[];for(var n in t)a.push("".concat(n," ").concat(t[n]));return a}))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={};this.props.userDetails.token&&(t={Authorization:"Token "+this.props.userDetails.token}),W(this.props.location.pathname,t).then((function(a){e.setState({article:a.data.article},(function(){X(t,e.state.article.author.username).then((function(t){e.setState({user:t.data.profile})})).catch((function(t){e.props.history.push("/")}))}))})),q(this.props.location.pathname+"/comments").then((function(t){e.setState({comments:t.data.comments})})).catch((function(t){e.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=de,a=pe,n=he,o=fe,c=ge,i=Ee,l=this.state,u=l.article,m=l.user;return!u||Object.keys(u).length<1?r.a.createElement(ke,{text:"Fetching article"}):r.a.createElement("div",null,r.a.createElement(Ce.a,{as:"h1",textAlign:"center",block:!0},u.title,r.a.createElement(Ce.a.Subheader,null,u.body),r.a.createElement(Z.a,{divided:"vertically"},r.a.createElement(Z.a.Row,{columns:2},r.a.createElement(Z.a.Column,null,r.a.createElement(Ge.a,{as:"div",labelPosition:"right",onClick:this.likeArticle},r.a.createElement(Ge.a,{color:u.favorited?"red":"grey"},r.a.createElement(ae.a,{name:"heart"}),t),r.a.createElement(re.a,{as:"a",basic:!0,color:u.favorited?"red":"grey",pointing:"left"},u.favoritesCount)),r.a.createElement(Ge.a,{as:"div",labelPosition:"right",onClick:this.followUser},r.a.createElement(Ge.a,{basic:!0,color:m.following?"green":"blue"},r.a.createElement(ae.a,{name:"add user"}),m.following?"UnFollow":"Follow"),r.a.createElement(re.a,{as:"a",basic:!0,color:m.following?"green":"blue",pointing:"left"},u.author.username))),r.a.createElement(Z.a.Column,null,r.a.createElement(Ce.a.Subheader,{align:"right"},a,":",r.a.createElement("strong",null," ",u.author.username)),r.a.createElement(Ce.a.Subheader,{align:"right"},oe(u.createdAt)))))),r.a.createElement(ut.a,{text:!0},r.a.createElement(ve.a,null,u.description),r.a.createElement(mt.a.Group,null,r.a.createElement(Ce.a,{as:"h3",dividing:!0},n),this.state.comments.length>0?this.state.comments.map((function(t){return r.a.createElement(dt,{key:t.id,data:t,loginUsername:e.props.userDetails.username,deleteCommentToArticle:e.deleteComment})})):"No comments yet",this.props.userDetails.token?r.a.createElement(xe.a,{reply:!0,className:"margin-bottom-footer"},r.a.createElement(xe.a.TextArea,{placeholder:"Add Comments",rows:"3",className:"comment-textbox",name:"body",onChange:this.handleInputChnage,value:this.state.body}),r.a.createElement(Ge.a,{content:"Add Reply",labelPosition:"left",icon:"edit",primary:!0,onClick:this.addComments,disabled:this.state.disabled})):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(s.b,{to:"/login"},o," in ")," or",r.a.createElement(s.b,{to:"/login"},c," up "),i," add comments on this article."))))}}]),a}(n.Component),ht=Object(u.g)(Object(i.b)((function(e){return{userDetails:e.user.user}}),(function(e){return Object(f.b)({fetchArticleBySlag:W},e)}))(pt)),ft=function(e){var t=e.activeItem,a=e.handleItemClick,n=e.userDetails,o=e.location,c=e.isUserLogin,i=e.logout,l=e.inputSearch,s=e.searchValue,u=e.userButtonClicked,m=Je,d=Ke,p=Ye,h=$e,f=Qe,g=Xe;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"header-logo"},m," ",r.a.createElement("span",{className:"header-title"},d)),r.a.createElement(te.a,{pointing:!0},r.a.createElement(te.a.Item,{name:"home",active:"home"===t,onClick:a}),r.a.createElement(te.a.Menu,null,r.a.createElement(te.a.Item,{className:"/login"===o?"displayNone":""},r.a.createElement(_e.a,{icon:"search",placeholder:"Search feed by Title",value:s,onChange:function(e){return l(e.target.value)}}))),r.a.createElement(te.a.Item,{position:"right",name:"newArticle",active:"newArticle"===t,className:c?"":"displayNone",onClick:a},r.a.createElement(ae.a,{name:"edit"}),p),r.a.createElement(te.a.Item,{name:"settings",active:"settings"===t,className:c?"":"displayNone",onClick:a},r.a.createElement(ae.a,{name:"settings"}),h),r.a.createElement(te.a.Item,{name:"user",active:"user"===t,className:c?"":"displayNone",onClick:u},!n.image&&r.a.createElement(ae.a,{name:"user"}),r.a.createElement(it.a,{src:n.image,onError:function(e){return e.target.style.display="none"}}),n.username),r.a.createElement(te.a.Item,{name:"Logout",active:"Logout"===t,className:c?"":"displayNone",onClick:i},r.a.createElement(ae.a,{name:"sign-out"}),f),r.a.createElement(te.a.Item,{position:"right",name:"login",active:"login"===t,className:c?"displayNone":"",onClick:a},r.a.createElement(Ge.a,{primary:!0},g))))};function gt(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Design in love \u2764 for Nagarro"))}var Et=Object(u.g)(Object(i.b)((function(e){return{isUserLogin:e.user.isUserLogin,userDetails:e.user.user,activeHeaderItem:e.user.activeHeaderItem,feeds:e.userFeeds.feeds,searchValue:e.userFeeds.searchValue}}),(function(e){return Object(f.b)({createArticle:G,changeActiveHeaderItem:Ne,logout:Re,inputSearch:Y},e)}))((function(e){var t=e.isUserLogin,a=e.location,n=e.userDetails,o=e.activeHeaderItem,c=e.searchValue,i=e.logout,l=e.inputSearch;return r.a.createElement("div",null,r.a.createElement(ft,{handleItemClick:function(t,a){var n=a.name;e.changeActiveHeaderItem(n),e.history.push("/"+n)},location:a.pathname,activeItem:o,isUserLogin:t,searchValue:c,userDetails:n,logout:i,inputSearch:l,userButtonClicked:function(){e.history.push("/user/"+n.username)}}),e.children,r.a.createElement(gt,null))}))),bt=a(234),vt=a(230),yt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.authToken,n=e.signInRequired,o=Object(bt.a)(e,["component","authToken","signInRequired"]),c=!(Object(vt.isNil)(a)||n);return r.a.createElement(u.b,Object.assign({},o,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))}}]),a}(r.a.Component);Object(u.g)(Object(i.b)((function(e){return{authToken:e.user.user.token,signInRequired:!e.user.isUserLogin}}))(yt));var Ot=r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(Et,null,r.a.createElement(Se,null))),r.a.createElement(u.b,{path:"/home"},r.a.createElement(Et,null,r.a.createElement(Se,null))),r.a.createElement(u.b,{path:"/login"},r.a.createElement(Et,null," ",r.a.createElement(at,null)," ")),r.a.createElement(u.b,{path:"/newArticle"},r.a.createElement(Et,null," ",r.a.createElement(ot,null)," ")),r.a.createElement(u.b,{path:"/settings"},r.a.createElement(Et,null," ",r.a.createElement(ct,null)," ")),r.a.createElement(u.b,{path:"/articles/:id"},r.a.createElement(Et,null," ",r.a.createElement(ht,null)," ")),r.a.createElement(u.b,{path:"/user/:id"},r.a.createElement(Et,null," ",r.a.createElement(st,null)," ")));a(439);var kt=function(){return r.a.createElement(s.a,null,Ot)},jt=a(153),Ct=a(231),Tt=a.n(Ct),wt=a(232),At=a(233),St=a.n(At),Ft={error:[],user:{},isUserLogin:!1,activeHeaderItem:"home",updateUserMsz:[],loginPage:!1};var Dt={feeds:[],tags:[],feedLoader:!0,tagLoader:!0,selectedTag:"",activeTab:"globalFeed",redirectTo:"",articlesCount:0,tempFeed:[],searchValue:""},Lt=Object(f.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(He.a)(Object(He.a)({},e),{},{user:t.payload,error:[],isUserLogin:!0,activeHeaderItem:"home",loginPage:!1});case j:return Object(He.a)(Object(He.a)({},e),{},{error:t.payload,isUserLogin:!1,user:{},loginPage:!1});case C:return Object(He.a)(Object(He.a)({},e),{},{updateUserMsz:t.payload,loginPage:!1});case T:return Object(He.a)(Object(He.a)({},e),{},{activeHeaderItem:t.payload,loginPage:!1});case w:return Object(He.a)(Object(He.a)({},e),{},{updateUserMsz:["User Updated"],user:Object(He.a)(Object(He.a)({},e.user),t.payload.user)});case A:return{error:[],user:{},isUserLogin:!1,activeHeaderItem:"home",updateUserMsz:[],loginPage:!0};default:return e}},userFeeds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(He.a)(Object(He.a)({},e),{},{feeds:t.payload,tempFeed:t.payload,feedLoader:!1,redirectTo:"",articlesCount:t.articlesCount,searchValue:""});case S:return Object(He.a)(Object(He.a)({},e),{},{tags:t.payload,tagLoader:!1});case L:return Object(He.a)(Object(He.a)({},e),{},{selectedTag:t.payload,activeIndex:"1"});case U:return Object(He.a)(Object(He.a)({},e),{},Object(ze.a)({},t.payload,!0));case F:return Object(He.a)(Object(He.a)({},e),{},{activeTab:t.payload});case P:return Object(He.a)(Object(He.a)({},e),{},{redirectTo:t.payload});case I:var a=e.feeds.map((function(e){return e.slug==t.payload.slug?(e.favorited=t.payload.favorited,e.favoritesCount=t.payload.favoritesCount,e):e}));return Object(He.a)(Object(He.a)({},e),{},{feeds:a,tempFeed:a});case R:var n=e.tempFeed.filter((function(e){return-1!==e.title.toLowerCase().indexOf(t.payload.toLowerCase())}));return Object(He.a)(Object(He.a)({},e),{},{feeds:n,searchValue:t.payload});default:return e}}}),Ut={key:"root",storage:Tt.a},Pt=Object(jt.a)(Ut,Lt),Nt=Object(f.d)(Pt,Object(f.a)(wt.a,St.a)),It=Object(jt.b)(Nt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rt=document.getElementById("root");c.a.render(r.a.createElement(i.a,{store:Nt},r.a.createElement(l.a,{loading:null,persistor:It},r.a.createElement(kt,null))),Rt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[247,1,2]]]);
//# sourceMappingURL=main.79550900.chunk.js.map